# FDB Viewer

Веб-приложение для просмотра ответов Etester из .fdb файлов.

## Установка

1. Установите зависимости:
```bash
make install
```

или
```bash
pip install -r requirements.txt
```

## Запуск

### Режим разработки (с автоперезагрузкой)
```bash
make dev
```

### Обычный запуск
```bash
make run
```

Приложение будет доступно по адресу http://localhost:8080

## Использование

1. Откройте http://localhost:8080 в браузере
2. Загрузите FDB файл через веб-интерфейс
3. Опционально загрузите папки с изображениями

## Переменные окружения

- `PORT` - порт приложения (по умолчанию 8080)
- `DATABASE_URL` - URL базы данных (по умолчанию sqlite:///./data/app.db)
- `STORAGE_DIR` - директория для хранения файлов (по умолчанию storage)
- Для Postgres на Python 3.13 установите отдельно: `pip install "psycopg[binary]==3.2.1"` и используйте строку подключения `postgresql+psycopg://...`

## Быстрый ответ через буфер обмена

Утилита `clipboard_service.py` работает в фоне: берёт текст из буфера, ищет вопрос в .fdb и кладёт ответ обратно. Горячая клавиша — Cmd+Shift+Z.

1. Сложите `.fdb` файлы в папку `fdp` (можно задать путь через переменную `FDB_DIR`).
2. Установите зависимости: `pip install -r requirements.txt`.
3. Запустите в отдельном терминале: `python clipboard_service.py`.
4. На macOS разрешите приложению терминала доступ к управлению компьютером (System Settings → Privacy & Security → Accessibility), иначе глобальные хоткеи не сработают.
5. Скопируйте текст вопроса, нажмите Cmd+Shift+Z — ответ запишется в буфер обмена (лишние пробелы и знаки препинания игнорируются). Если совпадений нет, буфер останется без изменений, а сообщение появится в консоли.
